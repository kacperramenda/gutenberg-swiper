(function(){const{useBlockProps:R,InnerBlocks:k,InspectorControls:y}=wp.blockEditor,{PanelBody:w,ToggleControl:g,RangeControl:u,SelectControl:h}=wp.components,{useState:D}=wp.element;function v({attributes:r,setAttributes:e}){const{autoplay:t,autoplayDelay:o,speed:n,effect:s,loop:c}=r,d=["gutenberg-swiper/slide"],p=[["gutenberg-swiper/slide",{}]];return React.createElement(React.Fragment,null,React.createElement(y,null,React.createElement(w,{title:"Ustawienia Slidera",initialOpen:!0},React.createElement(g,{label:"Automatyczne odtwarzanie",checked:t,onChange:l=>e({autoplay:l})}),t&&React.createElement(u,{label:"Czas wyświetlania slajdu (ms)",value:o,onChange:l=>e({autoplayDelay:l}),min:1e3,max:1e4,step:500,help:"1000 ms to 1s."}),React.createElement(u,{label:"Szybkość animacji (ms)",value:n,onChange:l=>e({speed:l}),min:100,max:2e3,step:100,help:"1000 ms to 1s."}),React.createElement(g,{label:"Zapętlanie slidera",checked:c,onChange:l=>e({loop:l})}),React.createElement(h,{label:"Efekt przejścia",value:s,options:[{label:"Przesuwanie (slide)",value:"slide"},{label:"Zanikanie (fade)",value:"fade"}],onChange:l=>e({effect:l})}))),React.createElement("div",{...R({className:"swiper__editor"})},React.createElement("div",{className:"swiper__title"},"Swiper Slider"),React.createElement(k,{allowedBlocks:d,template:p,orientation:"horizontal"})))}const{useBlockProps:b,InnerBlocks:f}=wp.blockEditor;function C({attributes:r}){const{autoplay:e,autoplayDelay:t,speed:o,effect:n,loop:s}=r,c={loop:s,speed:o,effect:n,autoplay:e?{delay:t,disableOnInteraction:!1}:!1};return React.createElement("div",{...b.save({className:"swiper"}),"data-swiper-config":JSON.stringify(c)},React.createElement("div",{className:"swiper-wrapper"},React.createElement(f.Content,null)),React.createElement("div",{className:"swiper-pagination"}),React.createElement("div",{className:"swiper-button-prev"}),React.createElement("div",{className:"swiper-button-next"}))}const _={name:"gutenberg-swiper/container"},{registerBlockType:N}=wp.blocks;N(_.name,{edit:v,save:C});const{useBlockProps:B,InspectorControls:x,MediaUpload:T,MediaUploadCheck:z}=wp.blockEditor,{PanelBody:I,Button:i,TextControl:m,BaseControl:P,TextareaControl:S}=wp.components;function $({attributes:r,setAttributes:e}){const{heading:t,description:o,ctaText:n,ctaLink:s,imageUrl:c,imageId:d}=r,p=a=>{e({imageUrl:a.url,imageId:a.id})},l=()=>{e({imageUrl:"",imageId:0})};return React.createElement(React.Fragment,null,React.createElement(x,null,React.createElement(I,{title:"Treść i Obraz",initialOpen:!0},React.createElement(P,{label:"Zdjęcie w tle"},React.createElement(z,null,React.createElement(T,{onSelect:p,allowedTypes:["image"],value:d,render:({open:a})=>React.createElement(React.Fragment,null,c?React.createElement(React.Fragment,null,React.createElement("img",{src:c,alt:"Tło",style:{width:"100%",marginBottom:"10px",borderRadius:"4px",height:"150px",objectFit:"cover"}}),React.createElement("div",{style:{display:"flex",gap:"5px"}},React.createElement(i,{variant:"secondary",onClick:a,style:{flex:1}},"Zmień"),React.createElement(i,{variant:"secondary",isDestructive:!0,onClick:l,style:{flex:1}},"Usuń"))):React.createElement(i,{variant:"primary",onClick:a,style:{width:"100%"}},"Wybierz zdjęcie"))}))),React.createElement("hr",null),React.createElement(m,{label:"Nagłówek",value:t,onChange:a=>e({heading:a}),help:"Główny tytuł slajdu."}),React.createElement(S,{label:"Opis",value:o,onChange:a=>e({description:a}),rows:4,help:"Krótki tekst pod nagłówkiem."}),React.createElement("hr",null),React.createElement(m,{label:"Tekst przycisku",value:n,onChange:a=>e({ctaText:a})}),React.createElement(m,{label:"Link przycisku (URL)",value:s,onChange:a=>e({ctaLink:a}),help:"Np. https://google.com lub /kontakt"}))),React.createElement("div",{...B({className:"swiper-slide"})},React.createElement("div",{className:"slide__bg"},c?React.createElement("img",{src:c,alt:"Background"}):React.createElement("div",{style:{background:"#f0f0f0",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"#ccc",fontSize:"3rem",fontWeight:"bold"}},"IMG")),React.createElement("div",{className:"slide__content"},t?React.createElement("h3",{className:"slide__heading"},t):React.createElement("h3",{className:"slide__heading",style:{opacity:.3}},"(Brak nagłówka)"),o?React.createElement("p",{className:"slide__description"},o):React.createElement("p",{className:"slide__description",style:{opacity:.3}},"(Brak opisu)"),(n||s)&&React.createElement("div",{className:"btn btn__cta"},n||"(Przycisk)"))))}const{useBlockProps:L,RichText:E}=wp.blockEditor;function U({attributes:r}){const{imageUrl:e,heading:t,description:o,ctaText:n,ctaLink:s}=r,c=L.save({className:"swiper-slide"});return React.createElement("div",{...c},e&&React.createElement("div",{className:"slide__bg"},React.createElement("img",{src:e,alt:t||"Slide image"})),React.createElement("div",{className:"slide__content"},React.createElement(E.Content,{tagName:"h3",className:"slide__heading",value:t}),React.createElement(E.Content,{tagName:"p",className:"slide__description",value:o}),n&&React.createElement("a",{href:s??"",className:"btn__cta"},n)))}const j={name:"gutenberg-swiper/slide"},{registerBlockType:O}=wp.blocks;O(j.name,{edit:$,save:U})})();
